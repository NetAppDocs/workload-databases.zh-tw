---
sidebar: sidebar 
permalink: register-instance.html 
keywords: manage, register, Microsoft SQL Server instance, Oracle database, manage database, manage instance 
summary: 註冊資源，以便您可以監控NetApp Workload Factory for Databases 中的資源狀態、資源使用率、保護和儲存效能。 
---
= 在NetApp Workload Factory for Databases 中註冊資源
:allow-uri-read: 
:icons: font
:imagesdir: ./media/


[role="lead"]
註冊 Microsoft SQL Server 執行個體和 Oracle 資料庫，以便您可以在NetApp Workload Factory for Databases 中監控執行個體和資料庫狀態、資源使用率、保護和儲存效能。

只有在 FSx for ONTAP 檔案系統儲存上執行的資源才能註冊。



== 關於任務

註冊執行個體（SQL Server）或資料庫（Oracle）包含三個步驟：執行個體或資料庫驗證、FSx for ONTAP 驗證以及準備工作。準備工作包括確保在執行個體或資料庫上已安裝所有 AWS、NetApp 和 PowerShell 模組，並符合 Workload Factory for Databases 功能（例如 link:analyze-error-logs.html["錯誤日誌分析"] 或 link:optimize-configurations.html["架構完善的審查"]）的最低要求。

Workload Factory 僅支援 Microsoft SQL Server 執行個體和 Oracle 資料庫的註冊和管理。根據您在 Workload Factory 中選擇的 AWS 帳戶憑證，PostgreSQL 主機可能會出現在清單中。目前，Workload Factory 僅支援在 Amazon Linux 作業系統上執行的未註冊的 PostgreSQL 執行個體。



== 開始之前

實例或資料庫的主機必須出現在清單中。要讓主機出現在庫存中，您必須 link:https://docs.netapp.com/us-en/workload-setup-admin/add-credentials.html["授予_查看、規劃和分析_權限"^] 在您的 AWS 帳戶中。



=== 在私有網路中註冊實例

若要在沒有外部連線的私人網路中註冊執行個體（SQL Server）或資料庫（Oracle），需要在 VPC 中提供下列終端節點，並與 SQL Server 所在的子網路關聯。確保介面端點允許附加的安全群組中的連接埠 443。

* `S3 Gateway/endpoint`
* `ssm`
* `ssmmessages`
* `fsx`
+
如果您對 EC2 執行個體的所有傳出連線都使用 Proxy 伺服器，則必須允許存取下列網域，以便管理作業正常運作：

* ``.microsoft.com``（SQL 伺服器）
* ``.powershellgallery.com``（SQL 伺服器）
* ``.aws.amazon.com``
* ``.amazonaws.com``




== 註冊 Microsoft SQL Server 執行個體

註冊執行個體分為三個步驟：執行個體驗證、FSx for ONTAP 驗證以及準備完成缺少的先決條件。您可以註冊單一或多個執行個體。

Workload Factory 支援 SQL Server 的容錯移轉叢集執行個體（FCI）和獨立部署的註冊。

.步驟
. 使用其中一項登link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["主控台體驗"^]入。
. 選擇選單 image:workloads-menu-icon.png["漢堡選單圖示用於導航至儲存、EDA、AI、資料庫、VMware 和管理等工作負載。"] 然後選擇*資料庫*。
. 從資料庫選單中，選擇*Inventory*。
. 在清單中，選擇 *Microsoft SQL Server* 作為引擎類型。
. 選擇“*實例*”標籤。
. 選擇註冊單一實例或多個實例。
. 若要驗證執行個體（步驟 1）、請執行下列動作、然後選取 *Next* ：
+
** 選擇 *Use the same credentials for all instances* 或 *Manage credentials manually*。
** 透過提供使用者名稱和密碼資訊來驗證 SQL Server 和 Windows 的身分。
+
如果執行個體已通過驗證，請選取 *Next* 。



. 若要驗證 FSx for ONTAP（步驟 2）、請執行下列操作：
+
** 選擇 *對所有資源使用相同的憑證* 或 *手動管理憑證*。
** 輸入 FSx for ONTAP 檔案系統使用者名稱和密碼，然後選取 *Next* 。
+
如果 FSx for ONTAP 檔案系統已通過驗證、請選取 *Next* 。



. 準備工作（步驟 3）：確保執行個體符合最低要求。
+
為滿足最低要求，執行個體必須安裝 AWS 和 NetApp PowerShell 模組以及 PowerShell 7 模組，並且您必須完成「先決條件檢查」下列出的至少一項功能的先決條件。..請在*先決條件檢查檢視*中查看先決條件。

+
+ 您必須完成單一功能的所有先決條件，例如 *Review well-architected issues and recommendations*，才能註冊執行個體。

+
.. 選擇每個功能的 *Setup details* ，以瞭解該功能的先決條件，並按照螢幕上的指示完成該功能任何缺失的先決條件。
+
若要讓 Workload Factory link:optimize-configurations.html["檢閱並修正架構完善的問題"]您的執行個體，請完成*審查架構良好的問題和建議*和*修復架構良好的問題*功能下列出的所有先決條件。



. 當所有先決條件都滿足後、請 * 註冊 * 執行個體。


.結果
執行個體註冊開始。選取 *Job monitoring* 標籤以追蹤進度。



== 註冊 Oracle 資料庫

註冊執行個體分為三個步驟：資料庫驗證、FSx for ONTAP 驗證以及準備完成缺少的先決條件。您可以註冊單一或多個資料庫。

.步驟
. 使用其中一項登link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["主控台體驗"^]入。
. 選擇選單 image:workloads-menu-icon.png["漢堡選單圖示用於導航至儲存、EDA、AI、資料庫、VMware 和管理等工作負載。"] 然後選擇*資料庫*。
. 從資料庫選單中，選擇*Inventory*。
. 在 Inventory 中，選擇 *Oracle* 作為引擎類型。
. 選擇“*資料庫*”標籤。
. 選擇註冊單一資料庫或多個資料庫。
. 若要驗證資料庫（步驟 1）、請執行下列操作：
+
** 選擇 *Use the same credentials for all instances* 或 *Manage credentials manually*。
** 透過提供使用者名稱和密碼資訊來驗證 Oracle 使用者和 Automatic Storage Management (ASM) 網格使用者（如果適用）的身份。
+
如果資料庫已通過驗證，請選取 *Next* 。



. 若要驗證 FSx for ONTAP（步驟 2）、請執行下列操作、然後選取 *Next* ：
+
** 選擇 *對所有資源使用相同的憑證* 或 *手動管理憑證*。
** 輸入 FSx for ONTAP 檔案系統使用者名稱和密碼。
+
如果 FSx for ONTAP 檔案系統已通過驗證、請選取 *Next* 。



. 在準備工作（步驟 3）中，請確保資料庫符合所有必要的先決條件。如果所有必需模組均已安裝且先決條件已滿足，請選擇 *Next* 註冊資料庫。否則，請按照以下步驟操作。
+
.. 請在 *Prerequisite check view* 中查看先決條件。
+
您必須完成單一功能的所有先決條件，例如 *Review well-architected issues and recommendations*，才能註冊資料庫。

.. 選擇每個功能的 *Setup details* ，以瞭解該功能的先決條件，並按照螢幕上的指示完成該功能任何缺失的先決條件。
+
要讓 Workload Factory 為您的資料庫link:optimize-configurations.html["檢閱並修正架構完善的問題"]，請完成 *審查架構良好的問題和建議* 和 *修復架構良好的問題* 功能下列出的所有先決條件。



. 當所有先決條件都滿足後、*註冊*資料庫。


.結果
資料庫註冊開始。選取 *Job monitoring* 標籤以追蹤進度。

.下一步
資源註冊後，您可以執行以下操作。

* 從清單中查看資料庫
* link:create-database.html["建立資料庫"]
* link:create-sandbox-clone.html["建立資料庫克隆（沙盒）"]
* link:optimize-configurations.html["實施結構良好的資料庫配置"]

